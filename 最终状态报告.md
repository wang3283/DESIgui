# æœ€ç»ˆçŠ¶æ€æŠ¥å‘Š - GitHub Actionsè‡ªåŠ¨ç¼–è¯‘é…ç½®

ç”Ÿæˆæ—¶é—´ï¼š2024-12-11

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. GitHub Actionså·¥ä½œæµé…ç½®
- âœ… `.github/workflows/build-windows.yml` - ä¸»æ„å»ºå·¥ä½œæµ
- âœ… `.github/workflows/test-build.yml` - æµ‹è¯•å·¥ä½œæµ
- âœ… è‡ªåŠ¨ç¼–è¯‘Windows exeæ–‡ä»¶
- âœ… è‡ªåŠ¨åˆ›å»ºReleaseå‘å¸ƒ
- âœ… å¤šå¹³å°æµ‹è¯•æ”¯æŒ

### 2. å®Œæ•´æ–‡æ¡£
- âœ… `README.md` - é¡¹ç›®ä¸»é¡µï¼ˆå·²æ·»åŠ å¾½ç« ï¼‰
- âœ… `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… `GitHubè‡ªåŠ¨ç¼–è¯‘è¯´æ˜.md` - è¯¦ç»†ä½¿ç”¨è¯´æ˜
- âœ… `GitHubè‡ªåŠ¨ç¼–è¯‘å®ŒæˆæŠ¥å‘Š.md` - é…ç½®æŠ¥å‘Š
- âœ… Issueå’ŒPRæ¨¡æ¿

### 3. Gité…ç½®
- âœ… Gitä»“åº“å·²åˆå§‹åŒ–
- âœ… è¿œç¨‹ä»“åº“å·²é…ç½®
- âœ… æ‰€æœ‰ä»£ç å·²æäº¤ï¼ˆ2ä¸ªcommitsï¼‰
  - commit 5d06a3d: Initial commit
  - commit 733945e: Add GitHub Actions

### 4. æ‰“åŒ…è„šæœ¬
- âœ… `build_windows.py` - Windowsæ‰“åŒ…è„šæœ¬
- âœ… `å®‰è£…ä¾èµ–.bat` - ä¸€é”®å®‰è£…
- âœ… `æ‰“åŒ…ç¨‹åº.bat` - ä¸€é”®æ‰“åŒ…
- âœ… å„ç§æŒ‡å—æ–‡æ¡£

## âš ï¸ å½“å‰é—®é¢˜

### å¤§æ–‡ä»¶é—®é¢˜

GitHubæ‹’ç»æ¨é€ï¼ŒåŸå› æ˜¯æœ‰æ–‡ä»¶è¶…è¿‡100MBé™åˆ¶ï¼š

1. **hmdb_database.db** - 137.04 MB
2. **hmdb_downloads/hmdb_metabolites.xml** - 6186.35 MB
3. **hmdb_downloads/hmdb_metabolites.zip** - 909.72 MB

### è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨Git LFSï¼ˆæ¨èï¼‰

Git Large File Storageå¯ä»¥å¤„ç†å¤§æ–‡ä»¶ï¼š

```bash
cd "/Volumes/US100 256G/mouse DESI data/desi_gui_v2"

# å®‰è£…Git LFSï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
brew install git-lfs
git lfs install

# è¿½è¸ªå¤§æ–‡ä»¶
git lfs track "*.db"
git lfs track "*.xml"
git lfs track "*.zip"

# æ·»åŠ .gitattributes
git add .gitattributes

# é‡æ–°æäº¤
git add .
git commit -m "Add Git LFS for large files"

# æ¨é€
git push -u origin main
```

#### æ–¹æ¡ˆäºŒï¼šæ’é™¤å¤§æ–‡ä»¶ï¼ˆæœ€ç®€å•ï¼‰

æ›´æ–°.gitignoreæ’é™¤å¤§æ–‡ä»¶ï¼Œåœ¨GitHub Actionsä¸­å•ç‹¬ä¸‹è½½ï¼š

```bash
cd "/Volumes/US100 256G/mouse DESI data/desi_gui_v2"

# æ·»åŠ åˆ°.gitignore
echo "hmdb_database.db" >> .gitignore
echo "hmdb_downloads/" >> .gitignore

# ç§»é™¤å·²è¿½è¸ªçš„å¤§æ–‡ä»¶
git rm --cached hmdb_database.db
git rm --cached -r hmdb_downloads/

# æäº¤
git add .gitignore
git commit -m "Remove large files from Git"

# æ¨é€
git push -u origin main
```

ç„¶ååœ¨GitHub Actionsä¸­æ·»åŠ ä¸‹è½½æ­¥éª¤ï¼š

```yaml
- name: Download database
  run: |
    # ä»å…¶ä»–åœ°æ–¹ä¸‹è½½æ•°æ®åº“æ–‡ä»¶
    # æˆ–ä½¿ç”¨GitHub Releaseä¸Šä¼ çš„æ•°æ®åº“
```

#### æ–¹æ¡ˆä¸‰ï¼šåˆ†ç¦»æ•°æ®åº“ä»“åº“

å°†æ•°æ®åº“æ–‡ä»¶æ”¾åˆ°å•ç‹¬çš„ä»“åº“æˆ–äº‘å­˜å‚¨ï¼š

1. ä¸Šä¼ æ•°æ®åº“åˆ°äº‘ç›˜ï¼ˆGoogle Drive/Dropbox/OneDriveï¼‰
2. åœ¨READMEä¸­æä¾›ä¸‹è½½é“¾æ¥
3. ç”¨æˆ·ä¸‹è½½exeåï¼Œå•ç‹¬ä¸‹è½½æ•°æ®åº“æ–‡ä»¶

## ğŸ“‹ æ¨èæ“ä½œæ­¥éª¤

### ç«‹å³æ‰§è¡Œï¼ˆæ–¹æ¡ˆäºŒ - æœ€ç®€å•ï¼‰

```bash
cd "/Volumes/US100 256G/mouse DESI data/desi_gui_v2"

# 1. æ›´æ–°.gitignore
echo "" >> .gitignore
echo "# Large database files (download separately)" >> .gitignore
echo "hmdb_database.db" >> .gitignore
echo "metabolite_cache.db" >> .gitignore
echo "hmdb_downloads/" >> .gitignore

# 2. ç§»é™¤å¤§æ–‡ä»¶
git rm --cached hmdb_database.db
git rm --cached metabolite_cache.db
git rm --cached -r hmdb_downloads/

# 3. æäº¤
git add .gitignore
git commit -m "Remove large database files from Git tracking"

# 4. æ¨é€
git push -u origin main
```

### æ•°æ®åº“æ–‡ä»¶å¤„ç†

1. **åˆ›å»ºæ•°æ®åº“Release**
   - æ‰‹åŠ¨åœ¨GitHubåˆ›å»ºä¸€ä¸ªRelease
   - ä¸Šä¼ æ•°æ®åº“æ–‡ä»¶ä½œä¸ºRelease Assets
   - åœ¨READMEä¸­è¯´æ˜å¦‚ä½•ä¸‹è½½

2. **æ›´æ–°README**
   ```markdown
   ## æ•°æ®åº“æ–‡ä»¶ä¸‹è½½
   
   ç”±äºæ–‡ä»¶è¾ƒå¤§ï¼Œæ•°æ®åº“æ–‡ä»¶éœ€è¦å•ç‹¬ä¸‹è½½ï¼š
   
   1. è®¿é—® [Releasesé¡µé¢](https://github.com/wang3283/DESIgui/releases)
   2. ä¸‹è½½ `hmdb_database.db` (137MB)
   3. å°†æ–‡ä»¶æ”¾åœ¨exeåŒç›®å½•
   ```

3. **æ›´æ–°GitHub Actions**
   - åœ¨æ„å»ºæ—¶ä¸åŒ…å«æ•°æ®åº“
   - æˆ–ä»Releaseä¸‹è½½æ•°æ®åº“
   - æˆ–ä½¿ç”¨å°å‹æµ‹è¯•æ•°æ®åº“

## ğŸ¯ å®Œæˆåçš„æ•ˆæœ

æ¨é€æˆåŠŸåï¼š

1. **ä»£ç è‡ªåŠ¨ç¼–è¯‘**
   - æ¨é€ä»£ç è§¦å‘GitHub Actions
   - 10-15åˆ†é’Ÿåç”Ÿæˆexeæ–‡ä»¶
   - åœ¨Actionsé¡µé¢ä¸‹è½½

2. **Releaseè‡ªåŠ¨å‘å¸ƒ**
   - åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾è§¦å‘
   - è‡ªåŠ¨åˆ›å»ºRelease
   - åŒ…å«exeæ–‡ä»¶å’Œè¯´æ˜

3. **ç”¨æˆ·ä¸‹è½½ä½¿ç”¨**
   - è®¿é—®Releaseé¡µé¢
   - ä¸‹è½½exeæ–‡ä»¶
   - ä¸‹è½½æ•°æ®åº“æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
   - åŒå‡»è¿è¡Œ

## ğŸ“Š å½“å‰GitçŠ¶æ€

```
ä»“åº“: /Volumes/US100 256G/mouse DESI data/desi_gui_v2
åˆ†æ”¯: main
è¿œç¨‹: origin â†’ https://github.com/wang3283/DESIgui.git

æäº¤å†å²:
  733945e Add GitHub Actions auto-build configuration
  5d06a3d Initial commit: DESIç©ºé—´ä»£è°¢ç»„å­¦åˆ†æç³»ç»Ÿ

å¾…æ¨é€: 2ä¸ªæäº¤
é—®é¢˜: å¤§æ–‡ä»¶è¶…è¿‡GitHubé™åˆ¶
```

## ğŸ”§ å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd "/Volumes/US100 256G/mouse DESI data/desi_gui_v2"

# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹å¤§æ–‡ä»¶
find . -type f -size +50M

# ç§»é™¤å¤§æ–‡ä»¶è¿½è¸ª
git rm --cached <æ–‡ä»¶å>

# æ¨é€
git push -u origin main

# åˆ›å»ºRelease
git tag -a v1.0.0 -m "Initial release"
git push origin v1.0.0
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `GitHubè‡ªåŠ¨ç¼–è¯‘è¯´æ˜.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹
- `README.md` - é¡¹ç›®ä¸»é¡µ
- `æ‰‹åŠ¨æ¨é€æ­¥éª¤.txt` - æ‰‹åŠ¨æ¨é€æŒ‡å—
- `Gitæ¨é€çŠ¶æ€æŠ¥å‘Š.txt` - æ¨é€çŠ¶æ€

## âœ¨ æ€»ç»“

æ‰€æœ‰GitHub Actionsé…ç½®å·²å®Œæˆï¼åªéœ€è¦ï¼š

1. å¤„ç†å¤§æ–‡ä»¶é—®é¢˜ï¼ˆä½¿ç”¨æ–¹æ¡ˆäºŒæœ€ç®€å•ï¼‰
2. æ¨é€åˆ°GitHub
3. GitHubè‡ªåŠ¨ç¼–è¯‘exe
4. ç”¨æˆ·ç›´æ¥ä¸‹è½½ä½¿ç”¨

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–ç¼–è¯‘
- âœ… æ— éœ€Windowsç¯å¢ƒ
- âœ… æ ‡å‡†åŒ–æ„å»ºæµç¨‹
- âœ… ç‰ˆæœ¬ç®¡ç†è‡ªåŠ¨åŒ–
- âœ… ç”¨æˆ·ä¸‹è½½å³ç”¨

---

**ä¸‹ä¸€æ­¥ï¼šæ‰§è¡Œæ–¹æ¡ˆäºŒï¼Œç§»é™¤å¤§æ–‡ä»¶ï¼Œæ¨é€åˆ°GitHubï¼**
